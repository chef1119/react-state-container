{"version":3,"file":"redux-zero.min.js","sources":["../../src/utils/shallowEqual.ts","../../src/utils/propsValidation.ts","../../src/react/components/Provider.tsx","../../src/react/components/connect.tsx"],"sourcesContent":["export default function shallowEqual(a, b) {\n  for (const i in a) if (a[i] !== b[i]) return false\n  for (const i in b) if (!(i in a)) return false\n  return true\n}\n","export default function propsValidation(\n  props: object,\n  propName: string,\n  componentName: string\n) {\n  if (typeof props === \"object\") {\n    return null\n  }\n  return new Error(`Invalid prop ${propName} supplied to ${componentName}`)\n}\n","import * as React from \"react\"\n\nimport Props from \"../../interfaces/Props\"\nimport Store from \"../../interfaces/Store\"\nimport propValidation from \"../../utils/propsValidation\"\n\nexport default class Provider extends React.Component<Props, {}> {\n  static childContextTypes = {\n    store: propValidation\n  }\n  getChildContext() {\n    const { store } = this.props\n    return { store }\n  }\n  render() {\n    const { children } = this.props\n    return React.Children.only(children)\n  }\n}\n","import * as React from \"react\"\n\nimport shallowEqual from \"../../utils/shallowEqual\"\nimport propValidation from \"../../utils/propsValidation\"\n\nexport default function connect(mapToProps) {\n  return Child =>\n    class Connected extends React.Component {\n      static contextTypes = {\n        store: propValidation\n      }\n      unsubscribe\n      state = this.getProps()\n      componentWillMount() {\n        this.unsubscribe = this.context.store.subscribe(this.update)\n      }\n      componentWillUnmount() {\n        this.unsubscribe(this.update)\n      }\n      getProps() {\n        const state =\n          (this.context.store && this.context.store.getState()) || {}\n        return mapToProps(state, this.props)\n      }\n      update = () => {\n        const mapped = this.getProps()\n        if (!shallowEqual(mapped, this.state)) {\n          this.setState(mapped)\n        }\n      }\n      render() {\n        return (\n          <Child store={this.context.store} {...this.props} {...this.state} />\n        )\n      }\n    }\n}\n"],"names":["a","b","i","props","propName","componentName","Error","tslib_1.__extends","Provider","store","children","React.Children","only","propValidation","React.Component","mapToProps","Child","_this","getProps","mapped","shallowEqual","state","setState","Connected","this","unsubscribe","context","subscribe","update","getState","React.createElement","_a"],"mappings":"2WAAqCA,EAAGC,GACtC,IAAK,IAAMC,KAAKF,EAAG,GAAIA,EAAEE,KAAOD,EAAEC,GAAI,OAAO,EAC7C,IAAK,IAAMA,KAAKD,EAAG,KAAMC,KAAKF,GAAI,OAAO,EACzC,OAAO,aCFPG,EACAC,EACAC,GAEA,MAAqB,iBAAVF,EACF,KAEF,IAAIG,MAAM,gBAAgBF,kBAAwBC,iVCF3D,4DAYA,OAZsCE,OAIpCC,4BAAA,WAEE,OAASC,yBAEXD,mBAAA,WACU,IAAAE,sBACR,OAAOC,WAAeC,KAAKF,IATtBF,qBACLC,MAAOI,MAF2BC,gCCDNC,GAC9B,OAAO,SAAAC,wBACL,aAAA,qDAKEC,QAAQA,EAAKC,WAYbD,SAAS,WACP,IAAME,EAASF,EAAKC,WACfE,EAAaD,EAAQF,EAAKI,QAC7BJ,EAAKK,SAASH,MAQpB,OA5BwBZ,OAMtBgB,+BAAA,WACEC,KAAKC,YAAcD,KAAKE,QAAQjB,MAAMkB,UAAUH,KAAKI,SAEvDL,iCAAA,WACEC,KAAKC,YAAYD,KAAKI,SAExBL,qBAAA,WACE,IAAMF,EACHG,KAAKE,QAAQjB,OAASe,KAAKE,QAAQjB,MAAMoB,eAC5C,OAAOd,EAAWM,EAAOG,KAAKrB,QAQhCoB,mBAAA,WACE,OACEO,gBAACd,KAAMP,MAAOe,KAAKE,QAAQjB,OAAWe,KAAKrB,MAAWqB,KAAKH,YAzBzCP,aACfiB,gBACLtB,MAAOI"}