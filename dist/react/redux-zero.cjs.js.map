{"version":3,"file":"redux-zero.cjs.js","sources":["../../src/utils/shallowEqual.ts","../../src/utils/propsValidation.ts","../../src/react/components/connect.tsx","../../src/react/components/Provider.tsx"],"sourcesContent":["export default function shallowEqual(a, b) {\n  for (const i in a) if (a[i] !== b[i]) return false\n  for (const i in b) if (!(i in a)) return false\n  return true\n}\n","export default function propsValidation(\n  props: object,\n  propName: string,\n  componentName: string\n) {\n  if (typeof props === \"object\") {\n    return null\n  }\n  return new Error(`Invalid prop ${propName} supplied to ${componentName}`)\n}\n","import * as React from \"react\"\n\nimport shallowEqual from \"../../utils/shallowEqual\"\nimport propValidation from \"../../utils/propsValidation\"\n\nexport default function connect(mapToProps) {\n  return Child =>\n    class Connected extends React.Component {\n      static contextTypes = {\n        store: propValidation\n      }\n      unsubscribe\n      state = this.getProps()\n      componentWillMount() {\n        this.unsubscribe = this.context.store.subscribe(this.update)\n      }\n      componentWillUnmount() {\n        this.unsubscribe(this.update)\n      }\n      getProps() {\n        const state =\n          (this.context.store && this.context.store.getState()) || {}\n        return mapToProps(state, this.props)\n      }\n      update = () => {\n        const mapped = this.getProps()\n        if (!shallowEqual(mapped, this.state)) {\n          this.setState(mapped)\n        }\n      }\n      render() {\n        return (\n          <Child store={this.context.store} {...this.props} {...this.state} />\n        )\n      }\n    }\n}\n","import * as React from \"react\"\n\nimport Props from \"../../interfaces/Props\"\nimport Store from \"../../interfaces/Store\"\nimport propValidation from \"../../utils/propsValidation\"\n\nexport default class Provider extends React.Component<Props, {}> {\n  static childContextTypes = {\n    store: propValidation\n  }\n  getChildContext() {\n    const { store } = this.props\n    return { store }\n  }\n  render() {\n    const { children } = this.props\n    return React.Children.only(children)\n  }\n}\n"],"names":["tslib_1.__extends","React.createElement","React.Component","propValidation","React.Children"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAAqC,CAAC,EAAE,CAAC;IACvC,KAAK,IAAM,CAAC,IAAI,CAAC;QAAE,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAAE,OAAO,KAAK,CAAA;IAClD,KAAK,IAAM,CAAC,IAAI,CAAC;QAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC;YAAE,OAAO,KAAK,CAAA;IAC9C,OAAO,IAAI,CAAA;CACZ;;yBCHC,KAAa,EACb,QAAgB,EAChB,aAAqB;IAErB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC7B,OAAO,IAAI,CAAA;KACZ;IACD,OAAO,IAAI,KAAK,CAAC,kBAAgB,QAAQ,qBAAgB,aAAe,CAAC,CAAA;CAC1E;;iBCJ+B,UAAU;IACxC,OAAO,UAAA,KAAK;YACcA,6BAAe;YAAvC;gBAAA,qEA4BC;gBAvBC,WAAK,GAAG,KAAI,CAAC,QAAQ,EAAE,CAAA;gBAYvB,YAAM,GAAG;oBACP,IAAM,MAAM,GAAG,KAAI,CAAC,QAAQ,EAAE,CAAA;oBAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,KAAI,CAAC,KAAK,CAAC,EAAE;wBACrC,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;qBACtB;iBACF,CAAA;;aAMF;YAtBC,sCAAkB,GAAlB;gBACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;aAC7D;YACD,wCAAoB,GAApB;gBACE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;aAC9B;YACD,4BAAQ,GAAR;gBACE,IAAM,KAAK,GACT,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAA;gBAC7D,OAAO,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;aACrC;YAOD,0BAAM,GAAN;gBACE,QACEC,oBAAC,KAAK,aAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,IAAM,IAAI,CAAC,KAAK,EAAM,IAAI,CAAC,KAAK,EAAI,EACrE;aACF;YACH,gBAAC;SAAA,CA5BuBC,eAAe;QAC9B,eAAY,GAAG;YACpB,KAAK,EAAEC,eAAc;SACtB;qBAyBF,CAAA;CACJ;;AC9BD;IAAsCH,4BAA0B;IAAhE;;KAYC;IARC,kCAAe,GAAf;QACU,IAAA,wBAAK,CAAe;QAC5B,OAAO,EAAE,KAAK,OAAA,EAAE,CAAA;KACjB;IACD,yBAAM,GAAN;QACU,IAAA,8BAAQ,CAAe;QAC/B,OAAOI,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;KACrC;IAVM,0BAAiB,GAAG;QACzB,KAAK,EAAED,eAAc;KACtB,CAAA;IASH,eAAC;CAAA,CAZqCD,eAAe;;;;;"}